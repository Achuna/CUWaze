from dijkstar import Graph, find_path
import cv2
from dijkstar import Graph, find_path
from PIL import Image

#start, end, (walk = 0, run = 1)
def findPath(userLocation, userDestination, speed=0):
    image = cv2.imread("cuamap.png") #original image file

    #Color list
    blue = (255, 0, 0)
    red = (0, 0, 255)
    green = (0, 255, 0)
    violet = (180, 0, 180)
    yellow = (0, 255, 255)
    black = (0, 0, 0)
    orange = (0, 165, 255)
    white = (255, 255, 255)

    #Fonts
    font = cv2.FONT_HERSHEY_PLAIN
    fontScale = 2

    #All the nodes
    nodes = [(168, 756, 0, [(0, 1, 0), (0, 37, 0)], "O'Boyle"),
             (168, 880, 1, [(1, 2, 0), (1, 0, 0), (1, 3, 0), (1, 4, 0), (1, 6, 0)]),
             (96, 880, 2, [(2, 1, 0)], "Nugent Hall"),
             (237, 880, 3, [(3, 1, 0), (3, 33, 0)], "Marian Scholasticate"),
             (161, 984, 4, [(4, 1, 0), (4, 5, 0), (4, 6, 0)], "Hartke Theatre"),
             (173, 1036, 5, [(5, 4, 0), (5, 7, 0), (5, 32, 0), (5, 6, 0)]),
             (187, 966, 6, [(6, 4, 0), (6, 1, 0), (6, 5, 0)], "Curley Hall"),
             (175, 1106, 7, [(7, 5, 0), (7, 8, 0), (7, 9, 0), (7, 10, 0)]),
             (229, 1092, 8, [(8, 7, 0), (8, 9, 0), (8, 32, 0)], "Salve Regina"),
             (231, 1120, 9, [(9, 7, 0), (9, 8, 0), (9, 16, 0), (9, 30, 0)], "Caldwell Hall"),
             (150, 1130, 10, [(10, 7, 0), (10, 11, 0)], "Leahy Hall"),
             (203, 1254, 11, [(11, 10, 0), (11, 7, 0), (11, 14, 0), (11, 15, 0), (11, 13, 0), (11, 12, 0)]),
             (234, 1308, 12, [(12, 11, 0), (12, 13, 0), (12, 17, 0), (12, 15, 0), (12, 27, 0), (12, 40, 0)]),
             (114, 1302, 13, [(13, 12, 0), (13, 11, 0)], "Ward Hall"),
             (234, 1239, 14, [(14, 11, 0), (14, 15, 0)], "Seton Wing"),
             (274, 1251, 15, [(15, 11, 0), (15, 14, 0), (15, 12, 0), (15, 16, 0), (15, 29, 0)]),
             (286, 1174, 16, [(16, 15, 0), (16, 9, 0)], "McMahon Parking Lot"),
             (285, 1504, 17, [(17, 12, 0), (17, 18, 0), (17, 19, 0), (17, 23, 0), (17, 40, 0)]),
             (294, 1672, 18, [(18, 17, 0), (18, 20, 0), (18, 119, 0)], "Gibbons Hall"),
             (229, 1504, 19, [(19, 17, 0)], "Basilica"),
             (461, 1617, 20, [(20, 18, 0), (20, 112, 0), (20, 118, 0)], "Father O'Connell"),
             (467, 1503, 21, [(21, 22, 0), (21, 112, 0), (21, 25, 0), (21, 26, 0), (21, 113, 0)], "Mullen Library"),
             (413, 1503, 22, [(22, 21, 0), (22, 117, 0), (22, 115, 0), (22, 23, 0), (22, 25, 0), (22, 26, 0)]),
             (353, 1503, 23, [(23, 17, 0), (23, 22, 0), (23, 24, 0), (23, 27, 0), (23, 115, 0)]),
             (354, 1569, 24, [(24, 23, 0), (24, 118, 0), (24, 119, 0)]),
             (413, 1474, 25, [(25, 22, 0), (25, 21, 0), (25, 113, 0)], "Shahan Hall (front)"),
             (413, 1527, 26, [(26, 22, 0), (26, 21, 0), (26, 112, 0), (26, 117, 0)], "McGivney Hall"),
             (347, 1353, 27, [(27, 12, 0), (27, 23, 0), (27, 115, 0), (27, 28, 0), (27, 40, 0), (27, 116, 0)]),
             (358, 1322, 28, [(28, 27, 0)], "McMahon Hall"),
             (373, 1297, 29, [(29, 15, 0), (29, 89, 0), (29, 91, 0)]),
             (376, 1120, 30, [(30, 89, 0), (30, 9, 0), (30, 31, 0)], "Hannan Hall"),
             (373, 1095, 31, [(31, 30, 0), (31, 32, 0), (31, 41, 0)]),
             (373, 1021, 32, [(32, 31, 0), (32, 8, 0), (32, 5, 0), (32, 33, 0), (32, 45, 0)]),
             (373, 878, 33, [(33, 32, 0), (33, 3, 0), (33, 34, 0), (33, 35, 0), (33, 56, 0)]),
             (402, 821, 34, [(34, 33, 0), (34, 35, 0)], "Aquinas Hall"),
             (373, 769, 35, [(35, 34, 0), (35, 33, 0), (35, 36, 0), (35, 39, 0)]),
             (329, 763, 36, [(36, 35, 0), (36, 37, 0)], "Marist Hall"),
             (273, 735, 37, [(37, 36, 0), (37, 0, 0), (37, 38, 0)]),
             (306, 669, 38, [(38, 37, 0), (38, 39, 0), (38, 129, 0)], "Marist Annex"),
             (381, 669, 39, [(39, 38, 0), (39, 35, 0), (39, 129, 0)]),
             (291, 1428, 40, [(40, 12, 0), (40, 27, 0), (40, 17, 0)]),
             (417, 1083, 41, [(41, 31, 0), (41, 42, 0)]),
             (437, 1049, 42, [(42, 41, 0), (42, 43, 0), (42, 44, 0), (42, 53, 0)]),
             (410, 1050, 43, [(43, 42, 0)], "Engelhard House"),
             (463, 1061, 44, [(44, 42, 0), (44, 53, 0), (44, 45, 0)], "Unanue House"),
             (451, 1019, 45, [(45, 32, 0), (45, 42, 0), (45, 46, 0), (45, 44, 0)]),
             (456, 984, 46, [(46, 45, 0), (46, 47, 0), (46, 48, 0), (46, 49, 0)]),
             (413, 979, 47, [(47, 46, 0), (47, 48, 0)], "Quinn House"),
             (421, 942, 48, [(48, 47, 0), (48, 46, 0), (48, 50, 0), (48, 49, 0)], "Reardon House"),
             (476, 944, 49, [(49, 46, 0), (49, 50, 0), (49, 51, 0), (49, 55, 0), (49, 48, 0)]),
             (453, 922, 50, [(50, 48, 0), (50, 49, 0)], "Camalier House"),
             (495, 971, 51, [(51, 49, 0), (51, 52, 0)], "Walton House"),
             (510, 1005, 52, [(52, 51, 0), (52, 53, 0), (52, 54, 0)]),
             (514, 1039, 53, [(53, 52, 0), (53, 54, 0), (53, 42, 0), (53, 44, 0)]),
             (545, 1011, 54, [(54, 53, 0), (54, 52, 0)], "McDonald House"),
             (496, 899, 55, [(55, 49, 0), (55, 56, 0), (55, 79, 0)]),
             (517, 851, 56, [(56, 55, 0), (56, 57, 0), (56, 58, 0), (56, 33, 0)]),
             (548, 872, 57, [(57, 56, 0), (57, 59, 0)], "Kane Student Health Center"),
             (547, 807, 58, [(58, 56, 0), (58, 60, 0)]),
             (587, 860, 59, [(59, 57, 0), (59, 60, 0), (59, 64, 0), (59, 66, 0)], "Kane Student Fitness Center"),
             (569, 779, 60, [(60, 58, 0), (60, 59, 0), (60, 61, 0), (60, 63, 0)]),
             (580, 734, 61, [(61, 60, 0), (61, 62, 0), (61, 63, 0), (61, 122, 0)], "Flather Hall"),
             (571, 698, 62, [(62, 61, 0), (62, 122, 0)], "Opus Hall"),
             (593, 760, 63, [(63, 61, 0), (63, 60, 0), (63, 64, 0), (63, 70, 0)]),
             (609, 857, 64, [(64, 63, 0), (64, 59, 0), (64, 65, 0), (64, 67, 0)]),
             (620, 905, 65, [(65, 64, 0), (65, 66, 0), (65, 67, 0), (65, 77, 0)]),
             (593, 905, 66, [(66, 65, 0), (66, 59, 0), (66, 77, 0), (66, 79, 0)]),
             (675, 877, 67,
              [(67, 64, 0), (67, 65, 0), (67, 68, 0), (67, 75, 0), (67, 74, 0), (67, 73, 0), (67, 69, 0), (67, 72, 0),
               (67, 71, 0)], "St. Vincent de Paul Chapel"),
             (639, 823, 68, [(68, 67, 0), (68, 69, 0), (68, 70, 0)], "Regan Hall"),
             (669, 819, 69, [(69, 68, 0), (69, 67, 0), (69, 70, 0), (69, 74, 0)], "Millennium North"),
             (632, 759, 70, [(70, 68, 0), (70, 69, 0), (70, 63, 0), (70, 122, 0)]),
             (662, 941, 71, [(71, 67, 0), (71, 72, 0), (71, 76, 0)], "Ryan Hall"),
             (685, 936, 72, [(72, 71, 0), (72, 75, 0), (72, 76, 0), (72, 67, 0)], "Millennium South"),
             (719, 871, 73, [(73, 67, 0), (73, 74, 0), (73, 75, 0)]),
             (713, 835, 74, [(74, 73, 0), (74, 67, 0), (74, 69, 0), (74, 122, 0)]),
             (724, 900, 75, [(75, 67, 0), (75, 73, 0), (75, 72, 0), (75, 123, 0)]),
             (675, 1019, 76, [(76, 72, 0), (76, 71, 0), (76, 78, 0), (76, 81, 0)]),
             (628, 957, 77, [(77, 65, 0), (77, 66, 0), (77, 79, 0), (77, 78, 0)]),
             (639, 1020, 78, [(78, 77, 0), (78, 76, 0), (78, 79, 0)]),
             (593, 1015, 79, [(79, 78, 0), (79, 77, 0), (79, 55, 0), (79, 80, 0), (79, 66, 0)]),
             (577, 1085, 80, [(80, 79, 0), (80, 82, 0), (80, 83, 0), (80, 86, 0)]),
             (707, 1016, 81, [(81, 76, 0), (81, 82, 0)]),
             (719, 1066, 82, [(82, 81, 0), (82, 80, 0), (82, 123, 0)]),
             (622, 1181, 83, [(83, 80, 0), (83, 85, 0), (83, 87, 0), (83, 84, 0)]),
             (672, 1163, 84, [(84, 83, 0)], "Columbus School of Law (rear)"),
             (545, 1207, 85, [(85, 83, 0), (85, 86, 0), (85, 87, 0), (85, 88, 0)], "Pryzbyla University Center (back)"),
             (521, 1122, 86, [(86, 85, 0), (86, 80, 0)]),
             (570, 1283, 87, [(87, 85, 0), (87, 131, 0), (87, 83, 0), (87, 90, 0), (87, 96, 0)]),
             (482, 1228, 88, [(88, 85, 0), (88, 90, 0)], "Pryzbyla University Center (front)"),
             (378, 1225, 89, [(89, 88, 0), (89, 30, 0), (89, 29, 0)]),
             (510, 1299, 90, [(90, 87, 0), (90, 88, 0), (90, 96, 0), (90, 100, 0)]),
             (455, 1313, 91, [(91, 90, 0), (91, 29, 0), (91, 93, 0), (91, 94, 0), (91, 96, 0)]),
             (448, 1424, 92, [(92, 27, 0), (92, 93, 0), (92, 94, 0), (92, 114, 0), (92, 95, 0), (92, 113, 0)]),
             (476, 1394, 93, [(93, 91, 0), (93, 92, 0), (93, 94, 0), (93, 95, 0)]),
             (436, 1353, 94, [(94, 91, 0), (94, 92, 0), (94, 93, 0)]),
             (513, 1439, 95, [(95, 92, 0), (95, 93, 0), (95, 99, 0), (95, 100, 0)]),
             (553, 1328, 96, [(96, 91, 0), (96, 87, 0), (96, 90, 0)], "Crough Center for Architectural Studies (back)"),
             (620, 1444, 97, [(97, 131, 0), (97, 98, 0), (97, 99, 0), (97, 101, 0)]),
             (595, 1448, 98, [(98, 97, 0), (98, 99, 0)], "Crough Center for Architectural Studies (front)"),
             (603, 1482, 99,
              [(99, 98, 0), (99, 97, 0), (99, 95, 0), (99, 100, 0), (99, 111, 0), (99, 110, 0), (99, 101, 0),
               (99, 108, 0)]),
             (555, 1434, 100, [(100, 90, 0), (100, 95, 0), (100, 99, 0)]),
             (644, 1468, 101, [(101, 97, 0), (101, 99, 0), (101, 102, 0), (101, 103, 0)]),
             (653, 1488, 102, [(102, 101, 0)], "McCort-Ward Hall"),
             (685, 1456, 103, [(103, 101, 0), (103, 104, 0), (103, 105, 0), (103, 106, 0)]),
             (681, 1440, 104, [(104, 103, 0)], "Pangborn Hall"),
             (690, 1472, 105, [(105, 103, 0)], "Nursing-Biology Building"),
             (724, 1445, 106, [(106, 103, 0), (106, 107, 0), (106, 128, 0)]),
             (732, 1460, 107, [(107, 106, 0)], "Gowan Hall"),
             (656, 1565, 108, [(108, 99, 0), (108, 109, 0), (108, 110, 0)]),
             (718, 1559, 109, [(109, 108, 0), (109, 134, 0)], "Maloney Hall"),
             (604, 1531, 110, [(110, 108, 0), (110, 99, 0), (110, 111, 0)]),
             (503, 1561, 111, [(111, 110, 0), (111, 99, 0), (111, 112, 0)]),
             (464, 1559, 112, [(112, 111, 0), (112, 21, 0), (112, 20, 0), (112, 26, 0)]),
             (459, 1453, 113, [(113, 92, 0), (113, 25, 0), (113, 21, 0)]),
             (417, 1430, 114, [(114, 92, 0), (114, 116, 0)], "Shahan Hall (back)"),
             (393, 1480, 115, [(115, 22, 0), (115, 27, 0), (115, 116, 0), (115, 23, 0), (115, 117, 0)]),
             (396, 1398, 116, [(116, 114, 0), (116, 27, 0), (116, 115, 0)]),
             (394, 1527, 117, [(117, 115, 0), (117, 26, 0), (117, 22, 0), (117, 118, 0)]),
             (393, 1608, 118, [(118, 117, 0), (118, 24, 0), (118, 20, 0), (118, 119, 0)]),
             (354, 1622, 119, [(119, 118, 0), (119, 24, 0), (119, 18, 0)]),
             (629, 250, 120, [(120, 122, 0), (120, 121, 0)]),
             (563, 139, 121, [(121, 120, 0)], "DuFour Athletic Center"),
             (697, 708, 122, [(122, 74, 0), (122, 61, 0), (122, 120, 0), (122, 62, 0), (122, 70, 0)]),
             (762, 1073, 123, [(123, 75, 0), (123, 82, 0), (123, 124, 0), (123, 125, 0)]),
             (745, 1141, 124, [(124, 123, 0), (124, 125, 0)], "Columbus School of Law (front)"),
             (785, 1185, 125, [(125, 124, 0), (125, 123, 0), (125, 126, 0)]),
             (794, 1301, 126, [(126, 125, 0), (126, 127, 0), (126, 128, 0)]),
             (755, 1293, 127, [(127, 126, 0)], "Power Plant"),
             (791, 1439, 128, [(128, 126, 0), (128, 106, 0), (128, 133, 0), (128, 134, 0)]),
             (325, 625, 129, [(129, 39, 0), (129, 38, 0), (129, 130, 0)]),
             (135, 592, 130, [(130, 129, 0)], "Facilities Grounds Center"),
             (613, 1402, 131, [(131, 87, 0), (131, 97, 0), (131, 132, 0)]),
             (637, 1393, 132, [(132, 131, 0)], "Pangborn Hall (rear)"),
             (837, 1488, 133, [(133, 128, 0)], "Metro Station"),
             (789, 1539, 134, [(134, 128, 0), (134, 109, 0)])
             ]

    #Extract location names and place them in array
    locations = []
    for node in nodes:
        try:
            if node[4] is not None: locations.append((node[4], node[2])) #append location and internal node index
        except:
            continue
    locations.sort()

    #TO BE UPDATED: Blockage reports go here:
    blockageNodes = [(77, 78, True)] #(A, B, Boolean) blockage edge and drawLine
    longTermBlockages = [(524, 1064, 15, True)]  # (X, Y, radius, Boolean)

    #inserting edges into graph
    edges = []
    for node in nodes:
        for i in range(0, len(node[3])):
            begin = node[3][i][0]
            end = node[3][i][1]
            #All possible node pairing combination
            nodePair1 = (begin, end, True)
            nodePair2 = (end, begin, True)
            nodePair3 = (begin, end, False)
            nodePair4 = (end, begin, False)

            #Make sure blockages are excluded
            if (nodePair4 not in blockageNodes) and (nodePair3 not in blockageNodes) and (nodePair2 not in blockageNodes) and (nodePair1 not in blockageNodes):
                edges.append(node[3][i])

    graph = Graph()

    #insert all edges into the graph
    for i in range(0, len(edges)):
        graph.add_edge(int(edges[i][0]), int(edges[i][1]), int(edges[i][2]))

    #retrieve path information after executing dijkstra algorithm
    try:
        pathInfoAll = find_path(graph, locations[userLocation-1][1], locations[userDestination-1][1])

        #format time properly
        travelTime = ""
        totalTime = pathInfoAll[3] + 60

        if speed != 0: totalTime *= 0.8 #add multiplier to imply running

        if totalTime/60 < 1:
            print("Total Time: " + str(totalTime) + " secs")
            travelTime = "Travel Time: %s secs" % totalTime
        else:
            totalTime = round((totalTime/60), 2)
            print("Total Time: " + str(totalTime) + " mins")
            travelTime = "Travel Time: %s mins" % totalTime

        #store node information to path here
        pathInfo = pathInfoAll[0]
        print(pathInfo)

        #Print out map legend in top right hand corner
        cv2.putText(image, travelTime, (655, 131), font, 1.3, black, 2)
        cv2.circle(image, (695, 160), 10, blue, -1)
        cv2.putText(image, " : Pathway", (705, 165), font, 1, black, 2)
        cv2.circle(image, (695, 190), 10, red, -1)
        cv2.putText(image, " : Intersection", (705, 195), font, 1, black, 2)
        cv2.circle(image, (695, 220), 10, green, -1)
        cv2.putText(image, " : Building", (705, 225), font, 1, black, 2)
        cv2.circle(image, (695, 250), 10, orange, -1)
        cv2.putText(image, " : Temporary Blockage", (705, 255), font, 1, black, 2)
        cv2.circle(image, (695, 280), 10, yellow, -1)
        cv2.putText(image, " : Long-term Blockage", (705, 285), font, 1, black, 2)
        #Start and End labels
        cv2.putText(image, "START", (nodes[pathInfo[0]][0] + 5, nodes[pathInfo[0]][1]-10), font, fontScale, violet, 2)
        cv2.putText(image, "END", (nodes[pathInfo[-1]][0]+5, nodes[pathInfo[-1]][1]+20), font, fontScale, violet, 2)

        # Draw lines on map
        for index, path in enumerate(pathInfo):
            try:
                cv2.line(image, (nodes[path][0], nodes[path][1]),
                         (nodes[pathInfo[index + 1]][0], nodes[pathInfo[index + 1]][1]), blue, thickness=3)
            except:
                print("Done")

        # Draw Blockage points
        for node in blockageNodes:
            if node[2]:
                cv2.line(image, (nodes[node[0]][0], nodes[node[0]][1]), (nodes[node[1]][0], nodes[node[1]][1]), orange,
                     thickness=10)
            else:
                cv2.line(image, (nodes[node[0]][0], nodes[node[0]][1]), (nodes[node[1]][0], nodes[node[1]][1]), white,
                         thickness=1)
        for node in longTermBlockages:
            if node[3]:
                cv2.circle(image, (node[0], node[1]), node[2], yellow, -1)


        #Draw points on map
        for index, path in enumerate(pathInfo):
            try:
                if nodes[path][4] is not None:
                    cv2.circle(image, (nodes[path][0], nodes[path][1]), 5, green, -1)
            except:
                cv2.circle(image, (nodes[path][0], nodes[path][1]), 5, red, -1)

        # save image
        cv2.imwrite("pathFind.png", image)
    except:
        print("NO PATH FOUND")

    # # display image
    # im = Image.open("pathFind.png")
    #
    # im.show()


nodes = [(168, 756, 0, [(0, 1, 0), (0, 37, 0)], "O'Boyle"),
             (168, 880, 1, [(1, 2, 0), (1, 0, 0), (1, 3, 0), (1, 4, 0), (1, 6, 0)]),
             (96, 880, 2, [(2, 1, 0)], "Nugent Hall"),
             (237, 880, 3, [(3, 1, 0), (3, 33, 0)], "Marian Scholasticate"),
             (161, 984, 4, [(4, 1, 0), (4, 5, 0), (4, 6, 0)], "Hartke Theatre"),
             (173, 1036, 5, [(5, 4, 0), (5, 7, 0), (5, 32, 0), (5, 6, 0)]),
             (187, 966, 6, [(6, 4, 0), (6, 1, 0), (6, 5, 0)], "Curley Hall"),
             (175, 1106, 7, [(7, 5, 0), (7, 8, 0), (7, 9, 0), (7, 10, 0)]),
             (229, 1092, 8, [(8, 7, 0), (8, 9, 0), (8, 32, 0)], "Salve Regina"),
             (231, 1120, 9, [(9, 7, 0), (9, 8, 0), (9, 16, 0), (9, 30, 0)], "Caldwell Hall"),
             (150, 1130, 10, [(10, 7, 0), (10, 11, 0)], "Leahy Hall"),
             (203, 1254, 11, [(11, 10, 0), (11, 7, 0), (11, 14, 0), (11, 15, 0), (11, 13, 0), (11, 12, 0)]),
             (234, 1308, 12, [(12, 11, 0), (12, 13, 0), (12, 17, 0), (12, 15, 0), (12, 27, 0), (12, 40, 0)]),
             (114, 1302, 13, [(13, 12, 0), (13, 11, 0)], "Ward Hall"),
             (234, 1239, 14, [(14, 11, 0), (14, 15, 0)], "Seton Wing"),
             (274, 1251, 15, [(15, 11, 0), (15, 14, 0), (15, 12, 0), (15, 16, 0), (15, 29, 0)]),
             (286, 1174, 16, [(16, 15, 0), (16, 9, 0)], "McMahon Parking Lot"),
             (285, 1504, 17, [(17, 12, 0), (17, 18, 0), (17, 19, 0), (17, 23, 0), (17, 40, 0)]),
             (294, 1672, 18, [(18, 17, 0), (18, 20, 0), (18, 119, 0)], "Gibbons Hall"),
             (229, 1504, 19, [(19, 17, 0)], "Basilica"),
             (461, 1617, 20, [(20, 18, 0), (20, 112, 0), (20, 118, 0)], "Father O'Connell"),
             (467, 1503, 21, [(21, 22, 0), (21, 112, 0), (21, 25, 0), (21, 26, 0), (21, 113, 0)], "Mullen Library"),
             (413, 1503, 22, [(22, 21, 0), (22, 117, 0), (22, 115, 0), (22, 23, 0), (22, 25, 0), (22, 26, 0)]),
             (353, 1503, 23, [(23, 17, 0), (23, 22, 0), (23, 24, 0), (23, 27, 0), (23, 115, 0)]),
             (354, 1569, 24, [(24, 23, 0), (24, 118, 0), (24, 119, 0)]),
             (413, 1474, 25, [(25, 22, 0), (25, 21, 0), (25, 113, 0)], "Shahan Hall (front)"),
             (413, 1527, 26, [(26, 22, 0), (26, 21, 0), (26, 112, 0), (26, 117, 0)], "McGivney Hall"),
             (347, 1353, 27, [(27, 12, 0), (27, 23, 0), (27, 115, 0), (27, 28, 0), (27, 40, 0), (27, 116, 0)]),
             (358, 1322, 28, [(28, 27, 0)], "McMahon Hall"),
             (373, 1297, 29, [(29, 15, 0), (29, 89, 0), (29, 91, 0)]),
             (376, 1120, 30, [(30, 89, 0), (30, 9, 0), (30, 31, 0)], "Hannan Hall"),
             (373, 1095, 31, [(31, 30, 0), (31, 32, 0), (31, 41, 0)]),
             (373, 1021, 32, [(32, 31, 0), (32, 8, 0), (32, 5, 0), (32, 33, 0), (32, 45, 0)]),
             (373, 878, 33, [(33, 32, 0), (33, 3, 0), (33, 34, 0), (33, 35, 0), (33, 56, 0)]),
             (402, 821, 34, [(34, 33, 0), (34, 35, 0)], "Aquinas Hall"),
             (373, 769, 35, [(35, 34, 0), (35, 33, 0), (35, 36, 0), (35, 39, 0)]),
             (329, 763, 36, [(36, 35, 0), (36, 37, 0)], "Marist Hall"),
             (273, 735, 37, [(37, 36, 0), (37, 0, 0), (37, 38, 0)]),
             (306, 669, 38, [(38, 37, 0), (38, 39, 0), (38, 129, 0)], "Marist Annex"),
             (381, 669, 39, [(39, 38, 0), (39, 35, 0), (39, 129, 0)]),
             (291, 1428, 40, [(40, 12, 0), (40, 27, 0), (40, 17, 0)]),
             (417, 1083, 41, [(41, 31, 0), (41, 42, 0)]),
             (437, 1049, 42, [(42, 41, 0), (42, 43, 0), (42, 44, 0), (42, 53, 0)]),
             (410, 1050, 43, [(43, 42, 0)], "Engelhard House"),
             (463, 1061, 44, [(44, 42, 0), (44, 53, 0), (44, 45, 0)], "Unanue House"),
             (451, 1019, 45, [(45, 32, 0), (45, 42, 0), (45, 46, 0), (45, 44, 0)]),
             (456, 984, 46, [(46, 45, 0), (46, 47, 0), (46, 48, 0), (46, 49, 0)]),
             (413, 979, 47, [(47, 46, 0), (47, 48, 0)], "Quinn House"),
             (421, 942, 48, [(48, 47, 0), (48, 46, 0), (48, 50, 0), (48, 49, 0)], "Reardon House"),
             (476, 944, 49, [(49, 46, 0), (49, 50, 0), (49, 51, 0), (49, 55, 0), (49, 48, 0)]),
             (453, 922, 50, [(50, 48, 0), (50, 49, 0)], "Camalier House"),
             (495, 971, 51, [(51, 49, 0), (51, 52, 0)], "Walton House"),
             (510, 1005, 52, [(52, 51, 0), (52, 53, 0), (52, 54, 0)]),
             (514, 1039, 53, [(53, 52, 0), (53, 54, 0), (53, 42, 0), (53, 44, 0)]),
             (545, 1011, 54, [(54, 53, 0), (54, 52, 0)], "McDonald House"),
             (496, 899, 55, [(55, 49, 0), (55, 56, 0), (55, 79, 0)]),
             (517, 851, 56, [(56, 55, 0), (56, 57, 0), (56, 58, 0), (56, 33, 0)]),
             (548, 872, 57, [(57, 56, 0), (57, 59, 0)], "Kane Student Health Center"),
             (547, 807, 58, [(58, 56, 0), (58, 60, 0)]),
             (587, 860, 59, [(59, 57, 0), (59, 60, 0), (59, 64, 0), (59, 66, 0)], "Kane Student Fitness Center"),
             (569, 779, 60, [(60, 58, 0), (60, 59, 0), (60, 61, 0), (60, 63, 0)]),
             (580, 734, 61, [(61, 60, 0), (61, 62, 0), (61, 63, 0), (61, 122, 0)], "Flather Hall"),
             (571, 698, 62, [(62, 61, 0), (62, 122, 0)], "Opus Hall"),
             (593, 760, 63, [(63, 61, 0), (63, 60, 0), (63, 64, 0), (63, 70, 0)]),
             (609, 857, 64, [(64, 63, 0), (64, 59, 0), (64, 65, 0), (64, 67, 0)]),
             (620, 905, 65, [(65, 64, 0), (65, 66, 0), (65, 67, 0), (65, 77, 0)]),
             (593, 905, 66, [(66, 65, 0), (66, 59, 0), (66, 77, 0), (66, 79, 0)]),
             (675, 877, 67,
              [(67, 64, 0), (67, 65, 0), (67, 68, 0), (67, 75, 0), (67, 74, 0), (67, 73, 0), (67, 69, 0), (67, 72, 0),
               (67, 71, 0)], "St. Vincent de Paul Chapel"),
             (639, 823, 68, [(68, 67, 0), (68, 69, 0), (68, 70, 0)], "Regan Hall"),
             (669, 819, 69, [(69, 68, 0), (69, 67, 0), (69, 70, 0), (69, 74, 0)], "Millennium North"),
             (632, 759, 70, [(70, 68, 0), (70, 69, 0), (70, 63, 0), (70, 122, 0)]),
             (662, 941, 71, [(71, 67, 0), (71, 72, 0), (71, 76, 0)], "Ryan Hall"),
             (685, 936, 72, [(72, 71, 0), (72, 75, 0), (72, 76, 0), (72, 67, 0)], "Millennium South"),
             (719, 871, 73, [(73, 67, 0), (73, 74, 0), (73, 75, 0)]),
             (713, 835, 74, [(74, 73, 0), (74, 67, 0), (74, 69, 0), (74, 122, 0)]),
             (724, 900, 75, [(75, 67, 0), (75, 73, 0), (75, 72, 0), (75, 123, 0)]),
             (675, 1019, 76, [(76, 72, 0), (76, 71, 0), (76, 78, 0), (76, 81, 0)]),
             (628, 957, 77, [(77, 65, 0), (77, 66, 0), (77, 79, 0), (77, 78, 0)]),
             (639, 1020, 78, [(78, 77, 0), (78, 76, 0), (78, 79, 0)]),
             (593, 1015, 79, [(79, 78, 0), (79, 77, 0), (79, 55, 0), (79, 80, 0), (79, 66, 0)]),
             (577, 1085, 80, [(80, 79, 0), (80, 82, 0), (80, 83, 0), (80, 86, 0)]),
             (707, 1016, 81, [(81, 76, 0), (81, 82, 0)]),
             (719, 1066, 82, [(82, 81, 0), (82, 80, 0), (82, 123, 0)]),
             (622, 1181, 83, [(83, 80, 0), (83, 85, 0), (83, 87, 0), (83, 84, 0)]),
             (672, 1163, 84, [(84, 83, 0)], "Columbus School of Law (rear)"),
             (545, 1207, 85, [(85, 83, 0), (85, 86, 0), (85, 87, 0), (85, 88, 0)], "Pryzbyla University Center (back)"),
             (521, 1122, 86, [(86, 85, 0), (86, 80, 0)]),
             (570, 1283, 87, [(87, 85, 0), (87, 131, 0), (87, 83, 0), (87, 90, 0), (87, 96, 0)]),
             (482, 1228, 88, [(88, 85, 0), (88, 90, 0)], "Pryzbyla University Center (front)"),
             (378, 1225, 89, [(89, 88, 0), (89, 30, 0), (89, 29, 0)]),
             (510, 1299, 90, [(90, 87, 0), (90, 88, 0), (90, 96, 0), (90, 100, 0)]),
             (455, 1313, 91, [(91, 90, 0), (91, 29, 0), (91, 93, 0), (91, 94, 0), (91, 96, 0)]),
             (448, 1424, 92, [(92, 27, 0), (92, 93, 0), (92, 94, 0), (92, 114, 0), (92, 95, 0), (92, 113, 0)]),
             (476, 1394, 93, [(93, 91, 0), (93, 92, 0), (93, 94, 0), (93, 95, 0)]),
             (436, 1353, 94, [(94, 91, 0), (94, 92, 0), (94, 93, 0)]),
             (513, 1439, 95, [(95, 92, 0), (95, 93, 0), (95, 99, 0), (95, 100, 0)]),
             (553, 1328, 96, [(96, 91, 0), (96, 87, 0), (96, 90, 0)], "Crough Center for Architectural Studies (back)"),
             (620, 1444, 97, [(97, 131, 0), (97, 98, 0), (97, 99, 0), (97, 101, 0)]),
             (595, 1448, 98, [(98, 97, 0), (98, 99, 0)], "Crough Center for Architectural Studies (front)"),
             (603, 1482, 99,
              [(99, 98, 0), (99, 97, 0), (99, 95, 0), (99, 100, 0), (99, 111, 0), (99, 110, 0), (99, 101, 0),
               (99, 108, 0)]),
             (555, 1434, 100, [(100, 90, 0), (100, 95, 0), (100, 99, 0)]),
             (644, 1468, 101, [(101, 97, 0), (101, 99, 0), (101, 102, 0), (101, 103, 0)]),
             (653, 1488, 102, [(102, 101, 0)], "McCort-Ward Hall"),
             (685, 1456, 103, [(103, 101, 0), (103, 104, 0), (103, 105, 0), (103, 106, 0)]),
             (681, 1440, 104, [(104, 103, 0)], "Pangborn Hall"),
             (690, 1472, 105, [(105, 103, 0)], "Nursing-Biology Building"),
             (724, 1445, 106, [(106, 103, 0), (106, 107, 0), (106, 128, 0)]),
             (732, 1460, 107, [(107, 106, 0)], "Gowan Hall"),
             (656, 1565, 108, [(108, 99, 0), (108, 109, 0), (108, 110, 0)]),
             (718, 1559, 109, [(109, 108, 0), (109, 134, 0)], "Maloney Hall"),
             (604, 1531, 110, [(110, 108, 0), (110, 99, 0), (110, 111, 0)]),
             (503, 1561, 111, [(111, 110, 0), (111, 99, 0), (111, 112, 0)]),
             (464, 1559, 112, [(112, 111, 0), (112, 21, 0), (112, 20, 0), (112, 26, 0)]),
             (459, 1453, 113, [(113, 92, 0), (113, 25, 0), (113, 21, 0)]),
             (417, 1430, 114, [(114, 92, 0), (114, 116, 0)], "Shahan Hall (back)"),
             (393, 1480, 115, [(115, 22, 0), (115, 27, 0), (115, 116, 0), (115, 23, 0), (115, 117, 0)]),
             (396, 1398, 116, [(116, 114, 0), (116, 27, 0), (116, 115, 0)]),
             (394, 1527, 117, [(117, 115, 0), (117, 26, 0), (117, 22, 0), (117, 118, 0)]),
             (393, 1608, 118, [(118, 117, 0), (118, 24, 0), (118, 20, 0), (118, 119, 0)]),
             (354, 1622, 119, [(119, 118, 0), (119, 24, 0), (119, 18, 0)]),
             (629, 250, 120, [(120, 122, 0), (120, 121, 0)]),
             (563, 139, 121, [(121, 120, 0)], "DuFour Athletic Center"),
             (697, 708, 122, [(122, 74, 0), (122, 61, 0), (122, 120, 0), (122, 62, 0), (122, 70, 0)]),
             (762, 1073, 123, [(123, 75, 0), (123, 82, 0), (123, 124, 0), (123, 125, 0)]),
             (745, 1141, 124, [(124, 123, 0), (124, 125, 0)], "Columbus School of Law (front)"),
             (785, 1185, 125, [(125, 124, 0), (125, 123, 0), (125, 126, 0)]),
             (794, 1301, 126, [(126, 125, 0), (126, 127, 0), (126, 128, 0)]),
             (755, 1293, 127, [(127, 126, 0)], "Power Plant"),
             (791, 1439, 128, [(128, 126, 0), (128, 106, 0), (128, 133, 0), (128, 134, 0)]),
             (325, 625, 129, [(129, 39, 0), (129, 38, 0), (129, 130, 0)]),
             (135, 592, 130, [(130, 129, 0)], "Facilities Grounds Center"),
             (613, 1402, 131, [(131, 87, 0), (131, 97, 0), (131, 132, 0)]),
             (637, 1393, 132, [(132, 131, 0)], "Pangborn Hall (rear)"),
             (837, 1488, 133, [(133, 128, 0)], "Metro Station"),
             (789, 1539, 134, [(134, 128, 0), (134, 109, 0)])
             ]

# for i in range(1, 56):
#     for j in range(1, 56):
#         print("%s to %s" % (i,j))
#         findPath(i, j)
locations = []

for node in nodes:
    try:
        if node[4] is not None: locations.append((node[4], node[2]))
    except:
        continue
locations.sort()
print("List of Locations:\n")
for index, loc in enumerate(locations):
    print(str(index + 1) + ") " + loc[0])


print("\nPath Finder Testing\n")
location = int(input("Enter Location: "))
destination = int(input("Enter Destination: "))

findPath(location, destination, 1)

